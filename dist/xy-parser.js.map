{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4dcdfcab946c93940ab3","webpack:///./lib/index.js","webpack:///./node_modules/ml-arrayxy-uniquex/src/index.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","uniqueXFunction","require","parseXY","text","options","normalize","uniqueX","arrayType","xColumn","yColumn","keepInfo","maxNumberColumns","Math","max","minNumberColumns","lines","split","Error","maxY","Number","MIN_VALUE","result","info","l","length","line","trim","match","fields","x","parseFloat","replace","y","push","position","i","newResult","data","xs","ys","current","counter","module"],"mappings":"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","file":"xy-parser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xyParser\"] = factory();\n\telse\n\t\troot[\"xyParser\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4dcdfcab946c93940ab3","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar uniqueXFunction = _interopDefault(require('ml-arrayxy-uniquex'));\n\n/**\n * Parse a text-file and convert it to an array of XY points\n * @param {string} text - csv or tsv strings\n * @param {object} [options]\n * @param {string} [options.arrayType = 'xyxy'] - xxyy or xyxy\n * * 'xxyy' `[[x1,x2,x3,...],[y1,y2,y2,...]]`\n * * 'xyxy' `[[x1,y1],[x2,y2],[x3,y3], ...]]`\n * @param {boolean} [options.normalize = false] - will set the maximum value to 1\n * @param {boolean} [options.uniqueX = false] - Make the X values unique (works only with 'xxyy' format). If the X value is repeated the sum of Y is done.\n * @param {number} [options.xColumn = 0] - A number that specifies the x column\n * @param {number} [options.yColumn = 1] - A number that specifies the y column\n * @param {number} [options.maxNumberColumns = (Math.max(xColumn, yColumn)+1)] - A number that specifies the maximum number of y columns\n * @param {number} [options.minNumberColumns = (Math.max(xColumn, yColumn)+1)] - A number that specifies the minimum number of y columns\n * @param {boolean} [options.keepInfo = false] - shoud we keep the non numeric lines. In this case the system will return an object {data, info}\n * @return {Array<Array<number>>} - check the 'arrayType' option\n */\nfunction parseXY(text, options = {}) {\n    const {\n        normalize = false,\n        uniqueX = false,\n        arrayType = 'xyxy',\n        xColumn = 0,\n        yColumn = 1,\n        keepInfo = false,\n        maxNumberColumns = Math.max(xColumn, yColumn) + 1,\n        minNumberColumns = Math.max(xColumn, yColumn) + 1\n    } = options;\n\n    var lines = text.split(/[\\r\\n]+/);\n\n    if (arrayType !== 'xxyy' && arrayType !== 'xyxy') {\n        throw new Error(`unsupported arrayType (${arrayType})`);\n    }\n\n    var maxY = Number.MIN_VALUE;\n    var result = [[], []];\n    var info = [];\n    for (var l = 0; l < lines.length; l++) {\n        var line = lines[l].trim();\n        // we will consider only lines that contains only numbers\n        if (line.match(/[0-9]+/) && line.match(/^[0-9eE,;. \\t-]+$/)) {\n            var fields = line.split(/,[; \\t]+|[; \\t]+/);\n            if (fields.length === 1) {\n                fields = line.split(/[,; \\t]+/);\n            }\n            if (\n                fields &&\n                fields.length >= minNumberColumns &&\n                fields.length <= maxNumberColumns\n            ) {\n                let x = parseFloat(fields[xColumn].replace(',', '.'));\n                let y = parseFloat(fields[yColumn].replace(',', '.'));\n\n                if (y > maxY) maxY = y;\n                result[0].push(x);\n                result[1].push(y);\n            }\n        } else if (line) {\n            info.push({position: result[0].length, value: line});\n        }\n    }\n\n    if (normalize) {\n        for (var i = 0; i < result[0].length; i++) {\n            result[1][i] /= maxY;\n        }\n    }\n\n    if (uniqueX) {\n        uniqueXFunction(result[0], result[1]);\n    }\n\n    if (arrayType === 'xyxy') {\n        var newResult = [];\n        for (let i = 0; i < result[0].length; i++) {\n            newResult.push([result[0][i], result[1][i]]);\n        }\n        result = newResult;\n    }\n\n    if (!keepInfo) return result;\n\n    return {\n        info,\n        data: result\n    };\n}\n\nexports.parseXY = parseXY;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","'use strict';\n\n/**\n * In place modification of the 2 arrays to make X unique and sum the Y if X has the same value\n * @param xs\n * @param ys\n */\n\nfunction uniqueX(xs, ys) {\n    if (xs.length < 2) return;\n\n    var current = xs[0];\n    var counter = 0;\n\n    for (var i = 1; i < xs.length; i++) {\n        if (current !== xs[i]) {\n            counter++;\n            current = xs[i];\n            xs[counter] = xs[i];\n            if (i !== counter) {\n                ys[counter] = 0;\n            }\n        }\n        if (i !== counter) {\n            ys[counter] += ys[i];\n        }\n\n    }\n\n    xs.length = counter + 1;\n    ys.length = counter + 1;\n}\n\nmodule.exports = uniqueX;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-arrayxy-uniquex/src/index.js"],"sourceRoot":""}