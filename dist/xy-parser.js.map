{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b91eeedd6fc06e153452","webpack:///./lib/index.js","webpack:///./node_modules/ml-arrayxy-uniquex/src/index.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","uniqueXFunction","require","parseXY","text","options","normalize","uniqueX","arrayType","xColumn","yColumn","keepInfo","maxNumberColumns","Math","max","minNumberColumns","lines","split","Error","maxY","Number","MIN_VALUE","result","info","l","length","line","trim","match","fields","x","parseFloat","replace","y","push","position","i","newResult","data","xs","ys","current","counter","module"],"mappings":"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","file":"xy-parser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xyParser\"] = factory();\n\telse\n\t\troot[\"xyParser\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b91eeedd6fc06e153452","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar uniqueXFunction = _interopDefault(require('ml-arrayxy-uniquex'));\n\n/**\n * Parse a text-file and convert it to an array of XY points\n * @param {string} text - csv or tsv strings\n * @param {object} [options]\n * @param {string} [options.arrayType = 'xyxy'] - xxyy or xyxy\n * * 'xxyy' `[[x1,x2,x3,...],[y1,y2,y2,...]]`\n * * 'xyxy' `[[x1,y1],[x2,y2],[x3,y3], ...]]`\n * @param {boolean} [options.normalize = false] - will set the maximum value to 1\n * @param {boolean} [options.uniqueX = false] - Make the X values unique (works only with 'xxyy' format). If the X value is repeated the sum of Y is done.\n * @param {number} [options.xColumn = 0] - A number that specifies the x column\n * @param {number} [options.yColumn = 1] - A number that specifies the y column\n * @param {number} [options.maxNumberColumns = (Math.max(xColumn, yColumn)+1)] - A number that specifies the maximum number of y columns\n * @param {number} [options.minNumberColumns = (Math.max(xColumn, yColumn)+1)] - A number that specifies the minimum number of y columns\n * @param {boolean} [options.keepInfo = false] - shoud we keep the non numeric lines. In this case the system will return an object {data, info}\n * @return {Array<Array<number>>} - check the 'arrayType' option\n */\nfunction parseXY(text, options = {}) {\n  const {\n    normalize = false,\n    uniqueX = false,\n    arrayType = 'xyxy',\n    xColumn = 0,\n    yColumn = 1,\n    keepInfo = false,\n    maxNumberColumns = Math.max(xColumn, yColumn) + 1,\n    minNumberColumns = Math.max(xColumn, yColumn) + 1\n  } = options;\n\n  var lines = text.split(/[\\r\\n]+/);\n\n  if (arrayType !== 'xxyy' && arrayType !== 'xyxy') {\n    throw new Error(`unsupported arrayType (${arrayType})`);\n  }\n\n  var maxY = Number.MIN_VALUE;\n  var result = [[], []];\n  var info = [];\n  for (var l = 0; l < lines.length; l++) {\n    var line = lines[l].trim();\n    // we will consider only lines that contains only numbers\n    if (line.match(/[0-9]+/) && line.match(/^[0-9eE,;. \\t-]+$/)) {\n      var fields = line.split(/,[; \\t]+|[; \\t]+/);\n      if (fields.length === 1) {\n        fields = line.split(/[,; \\t]+/);\n      }\n      if (\n        fields &&\n                fields.length >= minNumberColumns &&\n                fields.length <= maxNumberColumns\n      ) {\n        let x = parseFloat(fields[xColumn].replace(',', '.'));\n        let y = parseFloat(fields[yColumn].replace(',', '.'));\n\n        if (y > maxY) maxY = y;\n        result[0].push(x);\n        result[1].push(y);\n      }\n    } else if (line) {\n      info.push({ position: result[0].length, value: line });\n    }\n  }\n\n  if (normalize) {\n    for (var i = 0; i < result[0].length; i++) {\n      result[1][i] /= maxY;\n    }\n  }\n\n  if (uniqueX) {\n    uniqueXFunction(result[0], result[1]);\n  }\n\n  if (arrayType === 'xyxy') {\n    var newResult = [];\n    for (let i = 0; i < result[0].length; i++) {\n      newResult.push([result[0][i], result[1][i]]);\n    }\n    result = newResult;\n  }\n\n  if (!keepInfo) return result;\n\n  return {\n    info,\n    data: result\n  };\n}\n\nexports.parseXY = parseXY;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","'use strict';\n\n/**\n * In place modification of the 2 arrays to make X unique and sum the Y if X has the same value\n * @param xs\n * @param ys\n */\n\nfunction uniqueX(xs, ys) {\n    if (xs.length < 2) return;\n\n    var current = xs[0];\n    var counter = 0;\n\n    for (var i = 1; i < xs.length; i++) {\n        if (current !== xs[i]) {\n            counter++;\n            current = xs[i];\n            xs[counter] = xs[i];\n            if (i !== counter) {\n                ys[counter] = 0;\n            }\n        }\n        if (i !== counter) {\n            ys[counter] += ys[i];\n        }\n\n    }\n\n    xs.length = counter + 1;\n    ys.length = counter + 1;\n}\n\nmodule.exports = uniqueX;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-arrayxy-uniquex/src/index.js"],"sourceRoot":""}