{"version":3,"sources":["webpack:///xy-parser/webpack/universalModuleDefinition","webpack:///xy-parser/webpack/bootstrap 5b312c25e24be0241f01","webpack:///xy-parser/./lib/index.js","webpack:///xy-parser/./node_modules/ml-arrayxy-uniquex/src/index.js"],"names":[],"mappings":"AAAA,cACA,2BACA,uCACA,sCACA,IACA,aACA,0CAEA,eACA,GAAC,mBACD,kBCTA,cAMA,IACA,iBAGA,mBACA,CACA,IACA,KAIA,2CAGA,aAGA,OACA,OAIA,IAzBA,eA4BA,MAGA,uBACA,GACA,kCACA,CACA,gBACA,cAGA,OAGA,iBACA,YACA,qBAA2B,UAA0B,UACrD,YAAiC,CAAe,QAChD,EAEA,aADA,QAIA,mBAAsD,wCAA+D,SAGrH,MAGA,8BC7DA,aA8CsF,yBAClF,KAEK,MAFD,IAEJ,UAAS,EAAI,EAAG,EAAI,EAAM,OAClB,SAEJ,KAAI,EAAK,MAAM,WAAa,EAAK,MAAM,qBACnC,GAAO,EACP,UAAI,GAAS,EAAK,MAClB,eAAI,GAAU,EAAiB,WAAoB,EAAiB,UAChE,IAAI,GAAI,WACR,MAAI,EAAI,WAER,MAAQ,MACR,OAAO,GACP,UAAO,GACV,OACJ,CAGL,CACI,SAAK,GAAI,GAAI,EAAG,EAAI,EAAO,GAAG,OAC1B,MAKJ,SAIP,YAJuB,EAAO,GAAI,EAG/B,MAGkF,yBAClF,CACI,UAAM,IAAI,OAGd,8CAEK,MADL,IACA,KAAS,EAAI,EAAG,EAAI,EAAM,OAClB,SAEJ,KAAI,EAAK,MAAM,WAAa,EAAK,MAAM,qBACnC,GAAO,EACP,UAAI,GAAS,EAAK,MAClB,eAAI,GAAU,EAAiB,WAAoB,EAAiB,UAChE,IAAI,GAAI,WACR,MAAI,EAAI,WAER,MAAQ,MACR,OAAO,KACV,MACJ,CAGL,CACI,SAAK,GAAI,GAAI,EAAG,EAAI,EAAO,OACvB,IAAO,KAIf,MACH,eA9Dc,OACX,UA9CJ,OAAsB,iBAAS,aAAc,CAAS,WAItD,GAAI,GAFsB,WAAM,OAAQ,IAAqB,QAAP,YAAiC,cAAM,EAAqB,aAE5F,CAAgB,EAEtC,IAuGA,EAAkB,QAxFD,WAAgB,KAAI,OAOV,KAAkB,MAErC,EAPA,YAAY,gBAOZ,EANA,UAAU,gBAMV,EALA,uBAAY,WAKZ,EAJA,qBAAU,MAIV,EAHA,qBAAU,MAGV,EAFA,qCAAgD,MAEhD,EADA,8BAAqC,OAGzC,IAAI,EAAQ,EAAK,MAEjB,WACI,cACI,aACJ,sBACI,aACJ,kBACI,aAAM,IAAI,OAA0C,0BAAnC,CAE5B,qBC1CD,aA+BA,EAAiB,QAzBI,aACjB,MAEA,CAFI,GAAG,aAKF,GAHD,GAAU,EACd,GAAI,EAEJ,EAAS,EAAI,EAAG,EAAI,EAAG,OACnB,IAAI,IACA,OACA,MACA,KAAG,KACH,KACI,QAAG,KAGX,IACI,QAAG,MAKX,QAAG,OAAS,EACZ,IAAG,OAAS,EACf","file":"xy-parser.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xyParser\"] = factory();\n\telse\n\t\troot[\"xyParser\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5b312c25e24be0241f01","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar uniqueXFunction = _interopDefault(require('ml-arrayxy-uniquex'));\n\n/**\n * Parse a text-file and convert it to an array of XY points\n * @param {string} text - csv or tsv strings\n * @param {object} [options]\n * @param {string} [options.arrayType = 'xyxy'] - xxyy or xyxy\n * * 'xxyy' `[[x1,x2,x3,...],[y1,y2,y2,...]]`\n * * 'xyxy' `[[x1,y1],[x2,y2],[x3,y3], ...]]`\n * @param {boolean} [options.normalize = false] - will set the maximum value to 1\n * @param {boolean} [options.uniqueX = false] - Make the X values unique (works only with 'xxyy' format). If the X value is repeated the sum of Y is done.\n * @param {number} [options.xColumn = 0] - A number that specifies the x column\n * @param {number} [options.yColumn = 1] - A number that specifies the y column\n * @param {number} [options.maxNumberColumns = (Math.max(xColumn, yColumn)+1)] - A number that specifies the maximum number of y columns\n * @param {number} [options.minNumberColumns = (Math.max(xColumn, yColumn)+1)] - A number that specifies the minimum number of y columns\n * @return {Array<Array<number>>} - check the 'arrayType' option\n */\nfunction parseXY(text, options = {}) {\n    const {\n        normalize = false,\n        uniqueX = false,\n        arrayType = 'xyxy',\n        xColumn = 0,\n        yColumn = 1,\n        maxNumberColumns = Math.max(xColumn, yColumn) + 1,\n        minNumberColumns = Math.max(xColumn, yColumn) + 1\n    } = options;\n\n    var lines = text.split(/[\\r\\n]+/);\n\n    switch (arrayType) {\n        case 'xxyy':\n            return xxyy(lines, minNumberColumns, maxNumberColumns, xColumn, yColumn, normalize, uniqueX);\n        case 'xyxy':\n            return xyxy(lines, minNumberColumns, maxNumberColumns, xColumn, yColumn, normalize, uniqueX);\n        default:\n            throw new Error(`unsupported arrayType (${arrayType})`);\n    }\n}\n\nfunction xxyy(lines, minNumberColumns, maxNumberColumns, xColumn, yColumn, normalize, uniqueX) {\n    var maxY = Number.MIN_VALUE;\n    var result = [[], []];\n    for (var l = 0; l < lines.length; l++) {\n        var line = lines[l];\n        // we will consider only lines that contains only numbers\n        if (line.match(/[0-9]+/) && line.match(/^[0-9eE,;. \\t-]+$/)) {\n            line = line.trim();\n            var fields = line.split(/[,; \\t]+/);\n            if (fields && fields.length >= minNumberColumns && fields.length <= maxNumberColumns) {\n                let x = parseFloat(fields[xColumn]);\n                let y = parseFloat(fields[yColumn]);\n\n                if (y > maxY) maxY = y;\n                result[0].push(x);\n                result[1].push(y);\n            }\n        }\n    }\n\n    if (normalize) {\n        for (var i = 0; i < result[0].length; i++) {\n            result[1][i] /= maxY;\n        }\n    }\n\n    if (uniqueX) {\n        uniqueXFunction(result[0], result[1]);\n    }\n\n    return result;\n}\n\nfunction xyxy(lines, minNumberColumns, maxNumberColumns, xColumn, yColumn, normalize, uniqueX) {\n    if (uniqueX) {\n        throw new Error('can only make unique X for xxyy format');\n    }\n\n    var maxY = Number.MIN_VALUE;\n    var result = [];\n    for (var l = 0; l < lines.length; l++) {\n        var line = lines[l];\n        // we will consider only lines that contains only numbers\n        if (line.match(/[0-9]+/) && line.match(/^[0-9eE,;. \\t-]+$/)) {\n            line = line.trim();\n            var fields = line.split(/[,; \\t]+/);\n            if (fields && fields.length >= minNumberColumns && fields.length <= maxNumberColumns) {\n                let x = parseFloat(fields[xColumn]);\n                let y = parseFloat(fields[yColumn]);\n\n                if (y > maxY) maxY = y;\n                result.push([x, y]);\n            }\n        }\n    }\n\n    if (normalize) {\n        for (var j = 0; j < result.length; j++) {\n            result[j][1] /= maxY;\n        }\n    }\n\n    return result;\n}\n\nexports.parseXY = parseXY;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","'use strict';\n\n/**\n * In place modification of the 2 arrays to make X unique and sum the Y if X has the same value\n * @param xs\n * @param ys\n */\n\nfunction uniqueX(xs, ys) {\n    if (xs.length < 2) return;\n\n    var current = xs[0];\n    var counter = 0;\n\n    for (var i = 1; i < xs.length; i++) {\n        if (current !== xs[i]) {\n            counter++;\n            current = xs[i];\n            xs[counter] = xs[i];\n            if (i !== counter) {\n                ys[counter] = 0;\n            }\n        }\n        if (i !== counter) {\n            ys[counter] += ys[i];\n        }\n\n    }\n\n    xs.length = counter + 1;\n    ys.length = counter + 1;\n}\n\nmodule.exports = uniqueX;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ml-arrayxy-uniquex/src/index.js"],"sourceRoot":""}