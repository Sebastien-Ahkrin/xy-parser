{"version":3,"sources":["webpack:///xy-parser/./src/index.js","webpack:///xy-parser/webpack/universalModuleDefinition","webpack:///xy-parser/webpack/bootstrap 48cf8808c8279bd992d6","webpack:///xy-parser/./~/ml-arrayxy-uniquex/src/index.js"],"names":[],"mappings":"aA4B6C,KAAK,IC5BlD,cACA,2BACA,uCACA,sCACA,cACA,GACA,0CAEA,eACA,GAAC,mBACD,kBCTA,cAMA,MACA,eAGA,mBACA,GACA,EACA,KAIA,mDAGA,KAGA,OACA,OAIA,IAzBA,iBA4BA,MAGA,iBAA2C,OAAc,EAGzD,qBACA,OACA,8BACA,CACA,gBACA,kBAGA,GAGA,iBACA,YACA,qBAA2B,UAA0B,UACrD,YAAiC,OAAe,EAChD,mBACA,GACA,CAGA,mBAAsD,+CAA+D,EAGrH,MAGA,0BC1DA,aA2BA,UAzBA,aACA,MAEA,yBACA,KAEA,IAAmB,MAAe,OAClC,UACA,KACA,QACA,UACA,OACA,SAGA,QACA,YAKA,eACA,aACA,qBH/BA,aAkBkB,aAAc,KAAI,OAS5B,EAPA,gBAOA,EANA,cAMA,EALA,2BAAU,OAJkB,QAS5B,EAJA,yBAAQ,EALoB,QAS5B,EAHA,yBAAQ,EANoB,EAO5B,EAEA,EAFA,iBACA,EACA,EACA,iBAAC,IAAkB,WAA2B,EAAS,GAAS,GAChE,GAAC,IAAkB,EAAuB,SAAI,EAAS,GAAS,GACpE,MAAI,GAAQ,EAAK,MAEjB,WAAI,EAAO,OAEX,UAAI,EACJ,EAAI,EACJ,MADW,QAEP,KAAI,GACA,CAAI,MAAM,EACV,QAAI,MAAM,EAGd,iBAAa,GAAI,MAAM,EAE3B,YAAK,MAAI,EAAI,EAAG,EAAI,EAAM,OAClB,SAAO,EAEX,GAAI,EAAK,MAAM,WAAa,EAAK,MAAM,sBACnC,GAAK,EACL,UAAI,GAAS,EAAK,MAClB,eAAI,GAAU,EAAO,QAAU,GAAoB,EAAO,QAAU,EAChE,IAAI,GAAI,WAAW,EACnB,IAAI,EAAI,WAAW,EAEnB,IAAI,EAAI,IAAM,EACd,GACI,KAAO,GAAG,GACV,IAAO,GAAG,KAEV,KAAO,KAAW,CAAC,EAE1B,EACJ,CAGL,CAQI,GAPA,KAAO,GAAG,OACV,IAAO,GAAG,OAEV,KAAO,OAGX,EApDc,YAFkB,KAwDxB,MAAK,GAAI,GAAI,EAAG,EAAI,EAChB,MAAO,GAAG,IAGd,WAAK,GAAI,GAAI,EAAG,EAAI,EAChB,MAAO,GAAG,IAMtB,EAAI,GAhEQ,YAHoB,EAoE5B,IAAI,CAAE,EAAM,KAAM,IAAI,OACtB,4CAAgB,EAAO,GAAI,EAC9B,GAED,OACH,GAzFD,GAAI,GAAkB,EAEtB,GA0FA,EAAQ,MAAiB,EACzB,EAAO,QAAmB","file":"xy-parser.min.js","sourcesContent":["'use strict';\n\nvar uniqueXFunction = require('ml-arrayxy-uniquex');\n\n/**\n *\n * @param text\n * @param options\n * @param options.arrayType xxyy or xyxy\n * @param {boolean} options.normalize=false\n * @param {boolean} options.uniqueX\n * @param {number} [options.xColumn=0] - A number that specifies the xColumn\n * @param {number} [options.yColumn=1] - A number that specifies the yColumn\n * @param {number} [options.maxNumberColumns=(Math.max(xColumn, yColumn)+1 || 2)] - A number that specifies the yColumn\n * @param {number} [options.minNumberColumns=(Math.max(xColumn, yColumn)+1 || 2)] - A number that specifies the yColumn\n * @returns {*[]|Array}\n */\n\nfunction parseXY (text, options={}) {\n    let {\n        normalize=false,\n        uniqueX=false,\n        arrayType='xyxy',\n        xColumn=0,\n        yColumn=1,\n        maxNumberColumns,\n        minNumberColumns\n    } = options;\n    if (!maxNumberColumns) maxNumberColumns=(Math.max(xColumn, yColumn)+1) || 2;\n    if (!minNumberColumns) minNumberColumns=(Math.max(xColumn, yColumn)+1) || 2;\n    var lines = text.split(/[\\r\\n]+/);\n\n    var maxY = Number.MIN_VALUE;\n\n    var counter=0;\n    var xxyy= (arrayType==='xxyy') ? true : false;\n    if (xxyy) {\n        var result = [\n            new Array(lines.length),\n            new Array(lines.length)\n        ];\n    } else {\n        var result = new Array(lines.length);\n    }\n    for (var i = 0; i < lines.length; i++) {\n        var line = lines[i];\n        // we will consider only lines that contains only numbers\n        if (line.match(/[0-9]+/) && line.match(/^[0-9eE,;\\. \\t-]+$/)) {\n            line=line.trim();\n            var fields = line.split(/[,; \\t]+/);\n            if (fields && fields.length >= minNumberColumns && fields.length <= maxNumberColumns) {\n                let x = parseFloat(fields[xColumn]);\n                let y = parseFloat(fields[yColumn]);\n\n                if (y > maxY) maxY = y;\n                if (xxyy) {\n                    result[0][counter]=x;\n                    result[1][counter++]=y;\n                } else {\n                    result[counter++]=[x, y];\n                }\n            }\n        }\n    }\n\n    if (xxyy) {\n        result[0].length=counter;\n        result[1].length=counter;\n    } else {\n        result.length=counter;\n    }\n\n    if (normalize) {\n        if (xxyy) {\n            for (var i = 0; i < counter; i++) {\n                result[1][i] /= maxY;\n            }\n        } else {\n            for (var i = 0; i < counter; i++) {\n                result[i][1] /= maxY;\n            }\n        }\n\n    }\n\n    if (uniqueX) {\n        if (! xxyy) throw new Error('Can only make unique X for xxyy format');\n        uniqueXFunction(result[0], result[1])\n    }\n\n    return result;\n};\n\n\nparseXY.parse = parseXY; // keep compatibility\nmodule.exports = parseXY; // direct export\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xyParser\"] = factory();\n\telse\n\t\troot[\"xyParser\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 48cf8808c8279bd992d6","'use strict';\n\n/**\n * In place modification of the 2 arrays to make X unique and sum the Y if X has the same value\n * @param xs\n * @param ys\n */\n\nfunction uniqueX(xs, ys) {\n    if (xs.length < 2) return;\n\n    var current = xs[0];\n    var counter = 0;\n\n    for (var i = 1; i < xs.length; i++) {\n        if (current !== xs[i]) {\n            counter++;\n            current = xs[i];\n            xs[counter] = xs[i];\n            if (i !== counter) {\n                ys[counter] = 0;\n            }\n        }\n        if (i !== counter) {\n            ys[counter] += ys[i];\n        }\n\n    }\n\n    xs.length = counter + 1;\n    ys.length = counter + 1;\n}\n\nmodule.exports = uniqueX;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ml-arrayxy-uniquex/src/index.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}